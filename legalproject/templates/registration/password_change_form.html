{% extends "vtuapp/base.html" %} {% load static %} {% load crispy_forms_tags %}
{% block body %}

<div class="container">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <br />

      {% if user.is_authenticated %}

      <form method="POST" action="{% url 'password-change' %}">
        {% csrf_token %} 
        <class="container form-group bg-white border rounded">
        <div class="container">
          <div class="text-center text-white">
            <p class="lead fw-normal text-black pt-5 display-7">
              <b> {{request.user.username}} </b>, Kindly Reset Your Password
              Here
            </p>

            <img
              src="{% static 'img/logo-color.png' %}"
              height="50"
              class="mb-4"
            />
          </div>
        </div>
        {% for field in form %}
        <div class="row m-3 p-3">{{field|as_crispy_field}}</div>

        {% endfor %}

        <h4 class="text-center"> <b> Rules </b></h4>
        <ul class="list-group px-5">
          <li class="list-group-item"> 1. Your password can’t be too similar to your other personal information.</li>
          <li class="list-group-item"> 2. Your password must contain at least 8 characters.</li>
          <li class="list-group-item"> 3. Your password can’t be a commonly used password.</li>
          <li class="list-group-item"> 4. Your password can’t be entirely numeric.</li>

        </ul>
        <div class="form-group form-action-d-flex m-3 mm-3 p-3">
          <button
            type="submit"
            class="btn btn-secondary m-3 p-3 mt-sm-0 fw-bold"
            onClick="this.form.submit(); this.disabled=true; this.innerText ='Authenticating.....'; "
          >
            Change Password
          </button>
        </div>



      </form>
      
      {% else %}
      <p> You are not logged in </p>
      <p> <a href="{% url 'login' %}"> Login Here </a></p>
      <p> <a href="{% url '' %}"> Password Reset </a></p>
      
    </div>
  </div>
</div>
{% endif %} {% endblock body %}
